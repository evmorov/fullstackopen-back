{"version":3,"sources":["Filter.js","PersonForm.js","Person.js","Persons.js","services/persons.js","Notification.js","App.js","index.js"],"names":["Filter","filterWord","onChange","value","PersonForm","onSubmit","nameValue","numberValue","onNameChange","onNumberChange","type","Person","person","id","name","number","onDeleteClick","onClick","Persons","persons","onPersonDelete","map","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","update","put","destroy","delete","Notification","notification","message","notificationStyle","color","console","error","notificationColor","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilterWord","setNotification","useEffect","personService","initialPersons","showInfo","setTimeout","showError","replacePhone","persistedPerson","personObject","confirmReplaceMessage","window","confirm","updatePerson","catch","returnedPerson","p","filteredPersons","filter","toLowerCase","includes","event","target","preventDefault","find","concat","toDelete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d2d00d90.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ filterWord, onChange }) => (\n  <div>\n    filter shown with: <input value={filterWord} onChange={onChange} />\n  </div>\n);\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({ onSubmit, nameValue, numberValue, onNameChange, onNumberChange }) => (\n  <form onSubmit={onSubmit}>\n    <div>\n      name: <input value={nameValue} onChange={onNameChange} />\n    </div>\n    <div>\n      phone: <input value={numberValue} onChange={onNumberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({ person: { id, name, number }, onDeleteClick }) => (\n  <tr key={id}>\n    <td>{name}</td>\n    <td>{number}</td>\n    <td>\n      <button onClick={onDeleteClick}>delete</button>\n    </td>\n  </tr>\n);\n\nexport default Person;\n","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ persons, onPersonDelete }) => (\n  <table>\n    <tbody>\n      {persons.map((person) => (\n        <Person key={person.id} person={person} onDeleteClick={() => onPersonDelete(person.id)} />\n      ))}\n    </tbody>\n  </table>\n);\n\nexport default Persons;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst destroy = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst exportedObject = {\n  getAll,\n  create,\n  update,\n  destroy,\n};\n\nexport default exportedObject;\n","const Notification = ({ notification: { message, type } }) => {\n  if (!message) return null;\n\n  const notificationColor = () => {\n    let color = 'lightgrey';\n    switch (type) {\n      case 'info':\n        color = 'green';\n        break;\n      case 'error':\n        color = 'red';\n        break;\n      default:\n        console.error(`Unkown notification type ${type}`);\n    }\n    return color;\n  };\n\n  const notificationStyle = {\n    color: notificationColor(),\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px',\n  };\n\n  return <div style={notificationStyle}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './Filter';\nimport PersonForm from './PersonForm';\nimport Persons from './Persons';\nimport personService from './services/persons';\nimport Notification from './Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filterWord, setFilterWord] = useState('');\n  const [notification, setNotification] = useState({});\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const showInfo = (message) => {\n    setNotification({ message, type: 'info' });\n    setTimeout(() => setNotification({}), 3000);\n  };\n\n  const showError = (message) => {\n    setNotification({ message, type: 'error' });\n    setTimeout(() => setNotification({}), 4000);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    if (!newName) return;\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const persistedPerson = persons.find((person) => person.name === newName);\n    if (persistedPerson) {\n      replacePhone(persistedPerson, personObject);\n      return;\n    }\n\n    personService\n      .create(personObject)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName('');\n        setNewNumber('');\n        showInfo(`Added ${returnedPerson.name}`);\n      })\n      .catch((error) => {\n        showError(error.response.data.error);\n      });\n  };\n\n  const replacePhone = (persistedPerson, personObject) => {\n    const confirmReplaceMessage = `${persistedPerson.name} is already added to phonebook, replace the old number with a new one?`;\n    if (!window.confirm(confirmReplaceMessage)) return;\n\n    updatePerson(persistedPerson.id, personObject)\n      .then(() => {\n        showInfo(`Updated ${persistedPerson.name}`);\n      })\n      .catch((error) => {\n        showError(error.response.data.error);\n      });\n  };\n\n  const updatePerson = (id, personObject) => {\n    return personService.update(id, personObject).then((returnedPerson) => {\n      setPersons(persons.map((p) => (p.id === id ? returnedPerson : p)));\n      setNewName('');\n      setNewNumber('');\n    });\n  };\n\n  const deletePerson = (id) => {\n    const toDelete = persons.find((person) => person.id === id);\n    if (!window.confirm(`Delete ${toDelete.name}?`)) return;\n\n    return personService\n      .destroy(id)\n      .then(() => {\n        setPersons(persons.filter((person) => person !== toDelete));\n        showInfo(`Deleted ${toDelete.name}`);\n      })\n      .catch((error) => {\n        showError(`Information of ${toDelete.name} has already beed removed from server`);\n      });\n  };\n\n  const handleFilterChange = (event) => {\n    setFilterWord(event.target.value);\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(filterWord.toLowerCase()),\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter filterWord={filterWord} onChange={handleFilterChange} />\n\n      <h3>Add a new</h3>\n      <PersonForm\n        onSubmit={addPerson}\n        nameValue={newName}\n        numberValue={newNumber}\n        onNameChange={handleNameChange}\n        onNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      <Persons persons={filteredPersons} onPersonDelete={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}